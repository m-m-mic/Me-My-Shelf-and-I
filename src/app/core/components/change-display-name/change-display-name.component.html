<div class="headline-button">
  <h2>Display Name</h2>
  <div class="options-headline">
    <p-button
      *ngIf="displayNameFormControl.disabled; else displayNameEnabled"
      label="Change"
      data-testid="change-button"
      [text]="true"
      size="small"
      icon="pi pi-pencil"
      (click)="toggleFormControlDisabled()" />
  </div>
</div>

<div class="input-wrapper">
  <input
    pInputText
    type="text"
    id="displayName"
    data-testid="display-name-input"
    [formControl]="displayNameFormControl" />
  <small
    class="validator-error"
    *ngIf="displayNameFormControl.errors?.['maxlength']"
    data-testid="maxlength-error">
    Can't be longer than 12 characters
  </small>
</div>

<div class="options-below">
  <p-button
    *ngIf="displayNameFormControl.disabled; else displayNameEnabled"
    label="Change"
    [text]="true"
    size="small"
    icon="pi pi-pencil"
    (click)="toggleFormControlDisabled()" />
</div>

<ng-template #displayNameEnabled>
  <div class="enabled-options">
    <p-button
      label="Discard"
      data-testid="discard-button"
      [text]="true"
      size="small"
      icon="pi pi-times"
      (click)="toggleFormControlDisabled()" />
    <p-button
      label="Update"
      data-testid="update-button"
      size="small"
      [disabled]="!displayNameFormControl.valid"
      icon="pi pi-check"
      (click)="update()" />
  </div>
</ng-template>
