<div class="table" role="table">
  <div class="filter">
    <input
      class="filter-input"
      [formControl]="query"
      placeholder="Search for Games..." />
    <button
      *ngIf="query.value"
      class="clear-button"
      (click)="query.setValue('')">
      <ng-icon size="20" name="ionClose" />
    </button>
  </div>
  <div class="header" role="rowheader">
    <div class="row header-row" role="row">
      <div class="row-item header-row-item index">#</div>
      <button
        class="row-item header-row-item title"
        role="columnheader"
        (click)="toggleSort('title')">
        <span>Title</span>
        <app-sort-button [sort]="sortBy" column="title" />
      </button>
      <button
        *ngIf="mediaType === 'game'"
        class="row-item header-row-item platform"
        role="columnheader"
        (click)="toggleSort('platform')">
        <span>Platform</span>
        <app-sort-button [sort]="sortBy" column="platform" />
      </button>
      <button
        *ngIf="mediaType === 'movie'"
        class="row-item header-row-item director"
        role="columnheader"
        (click)="toggleSort('director')">
        <span>Director</span>
        <app-sort-button [sort]="sortBy" column="director" />
      </button>
      <button
        *ngIf="mediaType === 'album'"
        class="row-item header-row-item artist"
        role="columnheader"
        (click)="toggleSort('artist')">
        <span>Artist</span>
        <app-sort-button [sort]="sortBy" column="artist" />
      </button>
      <button
        class="row-item header-row-item progress"
        role="columnheader"
        (click)="toggleSort('progress')">
        <span>Progress</span>
        <app-sort-button [sort]="sortBy" column="progress" />
      </button>
      <button
        class="row-item header-row-item date"
        role="columnheader"
        (click)="toggleSort('added_on')">
        <span>Added on</span>
        <app-sort-button [sort]="sortBy" column="added_on" />
      </button>
    </div>
  </div>
  <div class="body" role="rowgroup">
    <div class="row" role="row" *ngFor="let row of sortedRows; index as i">
      <div class="row-item index" role="columnheader">
        {{ i + 1 }}
      </div>
      <div class="row-item title">
        <a class="item-link" [routerLink]="formatLink(row.id)">
          {{ row.title }}
        </a>
      </div>
      <div class="row-item platform" *ngIf="mediaType === 'game'">
        {{ row.platform }}
      </div>
      <div class="row-item director" *ngIf="mediaType === 'movie'">
        {{ row.director }}
      </div>
      <div class="row-item artist" *ngIf="mediaType === 'album'">
        {{ row.artist }}
      </div>
      <div class="row-item progress">{{ row.progress }}</div>
      <div class="row-item date">{{ formatDate(row.added_on) }}</div>
    </div>
  </div>
  <div class="no-results" *ngIf="sortedRows.length === 0">
    No results found.
  </div>
  <div class="underline"></div>
</div>
