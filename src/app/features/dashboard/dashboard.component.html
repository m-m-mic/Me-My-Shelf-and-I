<h1>Dashboard</h1>
<p-tabMenu
  [model]="tabItems"
  [activeItem]="activeItem"
  (activeItemChange)="changeActiveItem($event)" />
<app-loading [height]="120" *ngIf="loading; else content" />
<ng-template #content>
  <ng-template [ngIf]="currentTab === 'Games'">
    <div *ngIf="statistics">
      <div>{{ statistics.games.amountInCollection }} in collection</div>
      <div>
        {{ statistics.games.progressDistribution.completed }} completed |
        {{ statistics.games.progressDistribution.inProgress }} in progress |
        {{ statistics.games.progressDistribution.notStarted }} not started
      </div>
      <div>
        {{ statistics.games.formatDistribution.physical }} physical |
        {{ statistics.games.formatDistribution.digital }} digital
      </div>
    </div>
    <div
      *ngIf="collection.games.length > 0; else noGames"
      class="media-selection">
      <ng-template ngFor let-game [ngForOf]="collection.games">
        <app-game-card [data]="game.general" [uid]="uid" />
      </ng-template>
    </div>
    <ng-template #noGames>
      <div class="no-content-disclaimer">
        <span>You haven't added any games to your collection.</span>
        <a routerLink="/games">Browse for games here!</a>
      </div>
    </ng-template>
  </ng-template>
  <ng-template [ngIf]="currentTab === 'Movies'">
    <div *ngIf="statistics">
      <div>{{ statistics.movies.amountInCollection }} in collection</div>
      <div>
        {{ statistics.movies.progressDistribution.completed }} completed |
        {{ statistics.movies.progressDistribution.inProgress }} in progress |
        {{ statistics.movies.progressDistribution.notStarted }} not started
      </div>
      <div>
        {{ statistics.movies.formatDistribution.physical }} physical |
        {{ statistics.movies.formatDistribution.digital }} digital
      </div>
    </div>
    <div
      *ngIf="collection.movies.length > 0; else noMovies"
      class="media-selection">
      <ng-template ngFor let-movie [ngForOf]="collection.movies">
        <app-movie-card [data]="movie.general" [uid]="uid" />
      </ng-template>
    </div>
    <ng-template #noMovies>
      <div class="no-content-disclaimer">
        <span>You haven't added any movies to your collection.</span>
        <a routerLink="/movies">Browse for movies here!</a>
      </div>
    </ng-template>
  </ng-template>
  <ng-template [ngIf]="currentTab === 'Albums'">
    <div *ngIf="statistics">
      <div>{{ statistics.albums.amountInCollection }} in collection</div>
      <div>
        {{ statistics.albums.formatDistribution.physical }} physical |
        {{ statistics.albums.formatDistribution.digital }} digital
      </div>
    </div>
    <div
      *ngIf="collection.albums.length > 0; else noAlbums"
      class="media-selection">
      <ng-template ngFor let-album [ngForOf]="collection.albums">
        <app-album-card [data]="album.general" [uid]="uid" />
      </ng-template>
    </div>
    <ng-template #noAlbums>
      <div class="no-content-disclaimer">
        <span>You haven't added any albums to your collection.</span>
        <a routerLink="/albums">Browse for albums here!</a>
      </div>
    </ng-template>
  </ng-template>
</ng-template>
